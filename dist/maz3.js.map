{"version":3,"names":[],"mappings":"","sources":["maz3.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({\"/Users/mapa/Projects/maz3/src/game.create.js\":[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Create = function () {\n    function Create() {\n        var Game = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.GameInstance;\n\n        _classCallCheck(this, Create);\n\n        this.Game = Game;\n    }\n\n    _createClass(Create, [{\n        key: 'physics',\n        value: function physics() {\n            var system = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Phaser.Physics.P2JS;\n\n            window.GAME_PHYSICS = system;\n\n            this.Game.startSystem(system);\n\n            this.BoundCollisionGroup = this.Game.physics.p2.createCollisionGroup();\n            this.PlayerCollisionGroup = this.Game.physics.p2.createCollisionGroup();\n        }\n    }, {\n        key: 'createWorld',\n        value: function createWorld() {\n            var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'map';\n\n            this.Map = this.Game.add.tilemap('' + name);\n        }\n    }, {\n        key: 'addLayers',\n        value: function addLayers() {\n            var _this = this;\n\n            var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n            name.forEach(function (n) {\n                var layer = _this.Map.createLayer(n);\n                layer.resizeWorld();\n            });\n\n            this.Game.physics.p2.setBoundsToWorld(true, true, true, true, true);\n        }\n    }, {\n        key: 'addCollisionGroups',\n        value: function addCollisionGroups() {\n            var _this2 = this;\n\n            var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n            var addToWorld = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n            name.forEach(function (n) {\n                var objects = game.physics.p2.convertCollisionObjects(map, n, addToWorld);\n\n                objects.forEach(function (obj) {\n                    obj.debug = !!window.GAME_DEBUG;\n                    obj.setCollisionGroup(_this2.BoundCollisionGroup);\n                    obj.collides(_this2.PlayerCollisionGroup);\n                });\n            });\n        }\n    }]);\n\n    return Create;\n}();\n\nexports.default = Create;\n\n},{}],\"/Users/mapa/Projects/maz3/src/game.hero.js\":[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Hero = function () {\n    function Hero() {\n        var Game = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.GameInstance;\n\n        _classCallCheck(this, Hero);\n\n        this.Game = Game;\n    }\n\n    _createClass(Hero, [{\n        key: \"create\",\n        value: function create(x, y, sprite) {\n            var _Game$add;\n\n            this.Hero = (_Game$add = this.Game.add).sprite.apply(_Game$add, arguments);\n\n            this.game.physics.p2.enable(this.Hero);\n            this.game.physics.p2.setPostBroadphaseCallback(this.interact, this.Game);\n\n            this.hero.body.fixedRotation = true;\n            this.hero.body.setCollisionGroup(playerCollisionGroup);\n            this.hero.body.collides(objectCollisionGroup);\n            this.hero.body.collideWorldBounds = true;\n\n            this.game.camera.follow(hero);\n\n            this.hero.body.debug = true;\n        }\n    }, {\n        key: \"addAnimations\",\n        value: function addAnimations() {\n            var _this = this;\n\n            var collection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n            collection.forEach(function (anim) {\n                _this.hero.animations.add(anim.name, anim.frames, anim.fps, true);\n            });\n        }\n    }, {\n        key: \"interact\",\n        value: function interact() {\n            return true;\n        }\n    }]);\n\n    return Hero;\n}();\n\nexports.default = Hero;\n\n},{}],\"/Users/mapa/Projects/maz3/src/game.js\":[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Game = function Game() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Game);\n\n    this.Game = window.GameInstance = new Phaser.Game(window.innerWidth, window.innerHeight, Phaser.AUTO, 'phaser-example', {\n        preload: opts.preload,\n        create: opts.create,\n        update: opts.update,\n        render: opts.render\n    });\n};\n\nexports.default = Game;\n\n},{}],\"/Users/mapa/Projects/maz3/src/game.loader.js\":[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Loader = function () {\n    function Loader() {\n        var Game = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.GameInstance;\n\n        _classCallCheck(this, Loader);\n\n        if (Game) {\n            this.Game = Game;\n            Game.load.tilemap('map', 'assets/map.json', null, Phaser.Tilemap.TILED_JSON);\n            Game.load.image('tmw_desert_spacing', 'assets/map_tiles.png');\n            Game.load.spritesheet('hero_sprite', 'assets/hero.png', 32, 32);\n        }\n    }\n\n    _createClass(Loader, [{\n        key: 'map',\n        value: function map() {\n            var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n            var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n            if (name && source) {\n                this.Game.load.tilemap('' + name, 'assets/' + source, null, Phaser.Tilemap.TILED_JSON);\n            }\n        }\n    }, {\n        key: 'image',\n        value: function image() {\n            var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n            var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n            if (name && source) {\n                this.Game.load.image('' + name, 'assets/' + source);\n            }\n        }\n    }, {\n        key: 'sprite',\n        value: function sprite() {\n            var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n            if (options) {\n                this.Game.load.spritesheet('' + options.name, 'assets/' + options.source, options.frameWidth, options.frameHeight);\n            }\n        }\n    }]);\n\n    return Loader;\n}();\n\nexports.default = Loader;\n\n},{}],\"/Users/mapa/Projects/maz3/src/game.loop.js\":[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Loop = function () {\n    function Loop() {\n        var Game = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.GameInstance;\n\n        _classCallCheck(this, Loop);\n\n        this.cursor = Game.input.keyboard.createCursorKeys();\n    }\n\n    _createClass(Loop, null, [{\n        key: 'HeroUpdate',\n        value: function HeroUpdate() {\n            var hero = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n            if (!hero) return;\n\n            //  Reset the players velocity (movement)\n            hero.body.setZeroVelocity();\n\n            if (this.cursors.left.isDown) {\n                //  Move to the left\n                hero.body.moveLeft(200);\n\n                hero.animations.play('left');\n            } else if (this.cursors.right.isDown) {\n                //  Move to the right\n                hero.body.moveRight(200);\n\n                hero.animations.play('right');\n            } else if (this.cursors.up.isDown) {\n                //  Move to the right\n                hero.body.moveUp(200);\n\n                hero.animations.play('up');\n            } else if (this.cursors.down.isDown) {\n                //  Move to the right\n                hero.body.moveDown(200);\n\n                hero.animations.play('down');\n            } else {\n                hero.animations.stop();\n            }\n        }\n    }]);\n\n    return Loop;\n}();\n\nexports.default = Loop;\n\n},{}],\"/Users/mapa/Projects/maz3/src/game.render.js\":[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Render = function Render(props) {\n    _classCallCheck(this, Render);\n};\n\nexports.default = Render;\n\n},{}],\"/Users/mapa/Projects/maz3/src/maz3.js\":[function(require,module,exports){\n'use strict';\n\nvar _game = require('./game.js');\n\nvar _gameLoader = require('./game.loader.js');\n\nvar _gameHero = require('./game.hero.js');\n\nvar _gameCreate = require('./game.create.js');\n\nvar _gameLoop = require('./game.loop.js');\n\nvar _gameRender = require('./game.render.js');\n\nvar GameLoader = new _gameLoader.Loader();\nvar GameCreate = new _gameCreate.Create();\nvar GameHero = new _gameHero.Hero();\nvar GameLoop = new _gameLoop.Loop();\nvar GameRender = new _gameRender.Render();\n\nvar Maz3 = new _game.Game({\n    preload: function preload() {},\n    update: function update() {},\n    create: function create() {},\n    render: function render() {}\n});\n\n// var game = new Phaser.Game(window.innerWidth, window.innerHeight, Phaser.AUTO, 'phaser-example', {\n//     preload: preload,\n//     create: create,\n//     update: update,\n//     render: render\n// });\n\n// var map, layer, buildings, hero, cursors;\n\n// function preload() {\n\n//     game.load.tilemap('map', 'assets/map.json', null, Phaser.Tilemap.TILED_JSON);\n//     game.load.image('tmw_desert_spacing', 'assets/map_tiles.png');\n//     game.load.spritesheet('hero_sprite', 'assets/hero.png', 32, 32);\n// }\n\n// function create() {\n//     game.physics.startSystem(Phaser.Physics.P2JS);\n\n//     map = game.add.tilemap('map');\n\n//     map.addTilesetImage('tmw_desert_spacing');\n\n//     layer = map.createLayer('Ground');\n//     layer.resizeWorld();\n\n//     layer = map.createLayer('Grass');\n//     layer.resizeWorld();\n\n//     layer = map.createLayer('Roads');\n//     layer.resizeWorld();\n\n//     layer = map.createLayer('Buildings');\n//     layer.resizeWorld();\n\n//     layer = map.createLayer('Signs');\n//     layer.resizeWorld();\n\n//     game.physics.p2.setBoundsToWorld(true, true, true, true, true);\n\n//     var objects = game.physics.p2.convertCollisionObjects(map, \"Walls\", true);\n//     var signs = game.physics.p2.convertCollisionObjects(map, \"Signs\", false);\n//     var objectCollisionGroup = game.physics.p2.createCollisionGroup();\n//     var playerCollisionGroup = game.physics.p2.createCollisionGroup();\n\n//     for(var i = 0; i < objects.length; i++) {\n//         objects[i].debug = true;\n//         objects[i].setCollisionGroup(objectCollisionGroup);\n//         objects[i].collides(playerCollisionGroup);\n//     }\n\n//     for(var i = 0; i < signs.length; i++) {\n//         signs[i].debug = true;\n//         signs[i].setCollisionGroup(objectCollisionGroup);\n//         signs[i].collides(playerCollisionGroup);\n//     }\n\n//     hero = game.add.sprite(15, 30, 'hero_sprite');\n\n//     game.physics.p2.enable(hero);\n\n//     game.physics.p2.setPostBroadphaseCallback(interactWithSign, this);\n\n//     hero.body.fixedRotation = true;\n//     hero.body.setCollisionGroup(playerCollisionGroup);\n//     hero.body.collides(objectCollisionGroup);\n//     hero.body.collideWorldBounds = true;\n\n//     game.camera.follow(hero);\n\n//     hero.animations.add('left', [0, 1], 6, true);\n//     hero.animations.add('right', [6, 7], 6, true);\n//     hero.animations.add('up', [4, 5], 6, true);\n//     hero.animations.add('down', [2, 3], 6, true);\n\n//     hero.body.debug = true;\n\n//     cursors = game.input.keyboard.createCursorKeys();\n// }\n\n// function update() {\n//     //  Reset the players velocity (movement)\n//     hero.body.setZeroVelocity();\n\n//     if (cursors.left.isDown) {\n//         //  Move to the left\n//         hero.body.moveLeft(200);\n\n//         hero.animations.play('left');\n//     } else if (cursors.right.isDown) {\n//         //  Move to the right\n//         hero.body.moveRight(200);\n\n//         hero.animations.play('right');\n//     } else if (cursors.up.isDown) {\n//         //  Move to the right\n//         hero.body.moveUp(200);\n\n//         hero.animations.play('up');\n//     } else if (cursors.down.isDown) {\n//         //  Move to the right\n//         hero.body.moveDown(200);\n\n//         hero.animations.play('down');\n//     } else {\n//         hero.animations.stop();\n//     }\n// }\n\n// function render() {\n// }\n\n// function interactWithSign(body1, body2) {\n//     console.log(arguments);\n\n//     return true;\n// }\n\n},{\"./game.create.js\":\"/Users/mapa/Projects/maz3/src/game.create.js\",\"./game.hero.js\":\"/Users/mapa/Projects/maz3/src/game.hero.js\",\"./game.js\":\"/Users/mapa/Projects/maz3/src/game.js\",\"./game.loader.js\":\"/Users/mapa/Projects/maz3/src/game.loader.js\",\"./game.loop.js\":\"/Users/mapa/Projects/maz3/src/game.loop.js\",\"./game.render.js\":\"/Users/mapa/Projects/maz3/src/game.render.js\"}]},{},[\"/Users/mapa/Projects/maz3/src/maz3.js\"])"],"file":"maz3.js"}